--- net/minecraft/src/TileEntityMobSpawner.java
+++ net/minecraft/src/TileEntityMobSpawner.java
@@ -1,93 +1,95 @@
 package net.minecraft.src;
 
 public class TileEntityMobSpawner extends TileEntity {
-    public int delay = -1;
-    public String entityID = "Pig";
+
+    public int delay;
+    public String entityID;
     public double field_831_c;
-    public double field_830_d = 0.0D;
+    public double field_830_d;
 
     public TileEntityMobSpawner() {
-        this.delay = 20;
+        delay = -1;
+        field_830_d = 0.0D;
+        entityID = "Pig";
+        delay = 20;
     }
 
     public boolean anyPlayerInRange() {
-        return this.worldObj.getClosestPlayer((double)this.xCoord + 0.5D, (double)this.yCoord + 0.5D, (double)this.zCoord + 0.5D, 16.0D) != null;
+        return worldObj.getClosestPlayer((double) xCoord + 0.5D, (double) yCoord + 0.5D, (double) zCoord + 0.5D, 16D) != null;
     }
 
     public void updateEntity() {
-        this.field_830_d = this.field_831_c;
-        if(this.anyPlayerInRange()) {
-            double var1 = (double)((float)this.xCoord + this.worldObj.rand.nextFloat());
-            double var3 = (double)((float)this.yCoord + this.worldObj.rand.nextFloat());
-            double var5 = (double)((float)this.zCoord + this.worldObj.rand.nextFloat());
-            this.worldObj.spawnParticle("smoke", var1, var3, var5, 0.0D, 0.0D, 0.0D);
-            this.worldObj.spawnParticle("flame", var1, var3, var5, 0.0D, 0.0D, 0.0D);
-
-            for(this.field_831_c += (double)(1000.0F / ((float)this.delay + 200.0F)); this.field_831_c > 360.0D; this.field_830_d -= 360.0D) {
-                this.field_831_c -= 360.0D;
-            }
-
-            if(this.delay == -1) {
-                this.updateDelay();
-            }
-
-            if(this.delay > 0) {
-                --this.delay;
-            } else {
-                byte var7 = 4;
-
-                for(int var8 = 0; var8 < var7; ++var8) {
-                    EntityLiving var9 = (EntityLiving)((EntityLiving)EntityList.createEntityInWorld(this.entityID, this.worldObj));
-                    if(var9 == null) {
-                        return;
-                    }
-
-                    int var10 = this.worldObj.getEntitiesWithinAABB(var9.getClass(), AxisAlignedBB.getBoundingBoxFromPool((double)this.xCoord, (double)this.yCoord, (double)this.zCoord, (double)(this.xCoord + 1), (double)(this.yCoord + 1), (double)(this.zCoord + 1)).expand(8.0D, 4.0D, 8.0D)).size();
-                    if(var10 >= 6) {
-                        this.updateDelay();
-                        return;
-                    }
-
-                    if(var9 != null) {
-                        double var11 = (double)this.xCoord + (this.worldObj.rand.nextDouble() - this.worldObj.rand.nextDouble()) * 4.0D;
-                        double var13 = (double)(this.yCoord + this.worldObj.rand.nextInt(3) - 1);
-                        double var15 = (double)this.zCoord + (this.worldObj.rand.nextDouble() - this.worldObj.rand.nextDouble()) * 4.0D;
-                        var9.setLocationAndAngles(var11, var13, var15, this.worldObj.rand.nextFloat() * 360.0F, 0.0F);
-                        if(var9.getCanSpawnHere()) {
-                            this.worldObj.entityJoinedWorld(var9);
-
-                            for(int var17 = 0; var17 < 20; ++var17) {
-                                var1 = (double)this.xCoord + 0.5D + ((double)this.worldObj.rand.nextFloat() - 0.5D) * 2.0D;
-                                var3 = (double)this.yCoord + 0.5D + ((double)this.worldObj.rand.nextFloat() - 0.5D) * 2.0D;
-                                var5 = (double)this.zCoord + 0.5D + ((double)this.worldObj.rand.nextFloat() - 0.5D) * 2.0D;
-                                this.worldObj.spawnParticle("smoke", var1, var3, var5, 0.0D, 0.0D, 0.0D);
-                                this.worldObj.spawnParticle("flame", var1, var3, var5, 0.0D, 0.0D, 0.0D);
-                            }
-
-                            var9.spawnExplosionParticle();
-                            this.updateDelay();
-                        }
-                    }
-                }
-
-                super.updateEntity();
-            }
-        }
+        field_830_d = field_831_c;
+        if (!anyPlayerInRange()) {
+            return;
+        }
+        double d = (float) xCoord + worldObj.rand.nextFloat();
+        double d2 = (float) yCoord + worldObj.rand.nextFloat();
+        double d4 = (float) zCoord + worldObj.rand.nextFloat();
+        worldObj.spawnParticle("smoke", d, d2, d4, 0.0D, 0.0D, 0.0D);
+        worldObj.spawnParticle("flame", d, d2, d4, 0.0D, 0.0D, 0.0D);
+        for (field_831_c += 1000F / ((float) delay + 200F); field_831_c > 360D; ) {
+            field_831_c -= 360D;
+            field_830_d -= 360D;
+        }
+
+        if (delay == -1) {
+            updateDelay();
+        }
+        if (delay > 0) {
+            delay--;
+            return;
+        }
+        byte byte0 = 4;
+        for (int i = 0; i < byte0; i++) {
+            EntityLiving entityliving = (EntityLiving) EntityList.createEntityInWorld(entityID, worldObj);
+            if (entityliving == null) {
+                return;
+            }
+            int j = worldObj.getEntitiesWithinAABB(entityliving.getClass(), AxisAlignedBB.getBoundingBoxFromPool(xCoord, yCoord, zCoord, xCoord + 1, yCoord + 1, zCoord + 1).expand(8D, 4D, 8D)).size();
+            if (j >= 6) {
+                updateDelay();
+                return;
+            }
+            if (entityliving == null) {
+                continue;
+            }
+            double d6 = (double) xCoord + (worldObj.rand.nextDouble() - worldObj.rand.nextDouble()) * 4D;
+            double d7 = (yCoord + worldObj.rand.nextInt(3)) - 1;
+            double d8 = (double) zCoord + (worldObj.rand.nextDouble() - worldObj.rand.nextDouble()) * 4D;
+            entityliving.setLocationAndAngles(d6, d7, d8, worldObj.rand.nextFloat() * 360F, 0.0F);
+            if (!entityliving.getCanSpawnHere()) {
+                continue;
+            }
+            worldObj.entityJoinedWorld(entityliving);
+            for (int k = 0; k < 20; k++) {
+                double d1 = (double) xCoord + 0.5D + ((double) worldObj.rand.nextFloat() - 0.5D) * 2D;
+                double d3 = (double) yCoord + 0.5D + ((double) worldObj.rand.nextFloat() - 0.5D) * 2D;
+                double d5 = (double) zCoord + 0.5D + ((double) worldObj.rand.nextFloat() - 0.5D) * 2D;
+                worldObj.spawnParticle("smoke", d1, d3, d5, 0.0D, 0.0D, 0.0D);
+                worldObj.spawnParticle("flame", d1, d3, d5, 0.0D, 0.0D, 0.0D);
+            }
+
+            entityliving.spawnExplosionParticle();
+            updateDelay();
+        }
+
+        super.updateEntity();
     }
 
     private void updateDelay() {
-        this.delay = 200 + this.worldObj.rand.nextInt(600);
-    }
-
-    public void readFromNBT(NBTTagCompound var1) {
-        super.readFromNBT(var1);
-        this.entityID = var1.getString("EntityId");
-        this.delay = var1.getShort("Delay");
-    }
-
-    public void writeToNBT(NBTTagCompound var1) {
-        super.writeToNBT(var1);
-        var1.setString("EntityId", this.entityID);
-        var1.setShort("Delay", (short)this.delay);
+        delay = 200 + worldObj.rand.nextInt(600);
+    }
+
+    public void readFromNBT(NBTTagCompound nbttagcompound) {
+        super.readFromNBT(nbttagcompound);
+        entityID = nbttagcompound.getString("EntityId");
+        delay = nbttagcompound.getShort("Delay");
+    }
+
+    public void writeToNBT(NBTTagCompound nbttagcompound) {
+        super.writeToNBT(nbttagcompound);
+        nbttagcompound.setString("EntityId", entityID);
+        nbttagcompound.setShort("Delay", (short) delay);
     }
 }
